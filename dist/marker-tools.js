!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.markerTools=e():t.markerTools=e()}(this,(()=>(()=>{"use strict";var t={776:function(t,e){var s,i,n,r,o,a,h,l,c,f,u,p,d,m=this&&this.__classPrivateFieldSet||function(t,e,s,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,s):n?n.value=s:e.set(t,s),s},g=this&&this.__classPrivateFieldGet||function(t,e,s,i){if("a"===s&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?i:"a"===s?i.call(t):i?i.value:e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.Cluster=void 0,e.Cluster=class{constructor(t){s.add(this),i.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),a.set(this,void 0),h.set(this,void 0),this.$naver=t.$naver,m(this,i,null,"f"),m(this,n,null,"f"),m(this,r,null,"f"),m(this,o,null,"f"),m(this,a,[],"f"),m(this,h,t,"f")}addMarker(t){if(!g(this,s,"m",p).call(this,t)){if(!g(this,i,"f")){const e=t.getPosition();m(this,i,e,"f"),m(this,n,g(this,s,"m",f).call(this,e),"f")}g(this,a,"f").push(t)}}destroy(){this.$naver.maps.Event.removeListener(g(this,o,"f"));const t=g(this,a,"f");for(let e=0,s=t.length;e<s;e+=1)t[e].setMap(null);g(this,r,"f").setMap(null),m(this,r,null,"f"),m(this,i,null,"f"),m(this,n,null,"f"),m(this,o,null,"f"),m(this,a,[],"f")}getCenter(){return g(this,i,"f")}getBounds(){return g(this,n,"f")}getCount(){return g(this,a,"f").length}getClusterMember(){return g(this,a,"f")}isInBounds(t){return g(this,n,"f")&&g(this,n,"f").hasLatLng(t)}enableClickZoom(){if(g(this,o,"f"))return;const t=g(this,h,"f").getMap();m(this,o,this.$naver.maps.Event.addListener(g(this,r,"f"),"click",(e=>{t.morph(e.coord,t.getZoom()+1)})),"f")}disableClickZoom(){g(this,o,"f")&&(this.$naver.maps.Event.removeListener(g(this,o,"f")),m(this,o,null,"f"))}updateCluster(){if(!g(this,r,"f")){let t;t=g(this,h,"f").getAverageCenter()?g(this,s,"m",d).call(this,g(this,a,"f")):g(this,i,"f"),m(this,r,new this.$naver.maps.Marker({position:t,map:g(this,h,"f").getMap()}),"f"),g(this,h,"f").getDisableClickZoom()||this.enableClickZoom()}this.updateIcon(),this.updateCount(),this.checkByZoomAndMinClusterSize()}checkByZoomAndMinClusterSize(){const t=g(this,h,"f"),e=t.getMinClusterSize(),i=t.getMaxZoom(),n=t.getMap().getZoom();this.getCount()<e?g(this,s,"m",l).call(this):(g(this,s,"m",c).call(this),i<=n&&g(this,s,"m",l).call(this))}updateCount(){const t=g(this,h,"f").getStylingFunction();t&&t(g(this,r,"f"),this.getCount())}updateIcon(){const t=this.getCount();let e=g(this,s,"m",u).call(this,t);const i=g(this,h,"f").getIcons();e=Math.max(e,0),e=Math.min(e,i.length-1),g(this,r,"f").setIcon(i[e])}},i=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,a=new WeakMap,h=new WeakMap,s=new WeakSet,l=function(){const t=g(this,h,"f").getMap(),e=g(this,r,"f"),s=g(this,a,"f");for(let e=0,i=s.length;e<i;e+=1)s[e].setMap(t);e&&e.setMap(null)},c=function(){const t=g(this,h,"f").getMap(),e=g(this,r,"f"),s=g(this,a,"f");for(let t=0,e=s.length;t<e;t+=1)s[t].setMap(null);e&&!e.getMap()&&e.setMap(t)},f=function(t){const e=g(this,h,"f").getMap(),s=new this.$naver.maps.LatLngBounds(t.clone(),t.clone()),i=e.getBounds(),n=e.getProjection(),r=n.fromCoordToOffset(i.getNE()),o=n.fromCoordToOffset(i.getSW()),a=n.fromCoordToOffset(s.getNE()),l=n.fromCoordToOffset(s.getSW()),c=g(this,h,"f").getGridSize()/2;a.add(c,-c),l.add(-c,c);const f=Math.min(r.x,a.x),u=Math.max(r.y,a.y),p=Math.max(o.x,l.x),d=Math.min(o.y,l.y),m=n.fromOffsetToCoord(new this.$naver.maps.Point(f,u)),v=n.fromOffsetToCoord(new this.$naver.maps.Point(p,d));return new this.$naver.maps.LatLngBounds(v,m)},u=function(t){const e=g(this,h,"f").getIndexGenerator();if(Array.isArray(e)){let s=0;for(let i=s,n=e.length;i<n&&!(t<e[i]);i+=1)s+=1;return s}return e(t)},p=function(t){return-1!==g(this,a,"f").indexOf(t)},d=function(t){const e=t.length,s=[0,0];for(let i=0;i<e;i+=1)s[0]+=t[i].position.x,s[1]+=t[i].position.y;return s[0]/=e,s[1]/=e,new this.$naver.maps.Point(s[0],s[1])}},434:function(t,e,s){var i=this&&this.__classPrivateFieldSet||function(t,e,s,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,s):n?n.value=s:e.set(t,s),s},n=this&&this.__classPrivateFieldGet||function(t,e,s,i){if("a"===s&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?i:"a"===s?i.call(t):i?i.value:e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerClusteringWrapper=void 0;const r=s(776);e.MarkerClusteringWrapper=class{constructor(t,e){var s,o,a,h,l,c,f,u,p,d,m;class g extends t.maps.OverlayView{constructor(t,e){super(),s.add(this),o.set(this,void 0),a.set(this,void 0),h.set(this,void 0),this.$naver=t,this.DEFAULT_OPTIONS={map:null,markers:[],disableClickZoom:!0,minClusterSize:2,maxZoom:13,gridSize:100,icons:[],indexGenerator:[10,100,200,500,1e3],averageCenter:!1,stylingFunction(){}},i(this,o,[],"f"),i(this,a,null,"f"),i(this,h,[],"f"),this.setOptions({...this.DEFAULT_OPTIONS,...e},!0),this.setMap(e.map||null)}onAdd(){const t=this.getMap();i(this,a,this.$naver.maps.Event.addListener(t,"idle",(()=>{n(this,s,"m",d).call(this)})),"f"),this.getMarkers().length>0&&(n(this,s,"m",l).call(this),n(this,s,"m",c).call(this))}draw(){}onRemove(){this.$naver.maps.Event.removeListener(this._mapRelation),n(this,s,"m",f).call(this),this._geoTree=null,this._mapRelation=null}setOptions(t,e){const s=this;if("string"==typeof t){const i=t,n=e;s.set(i,n)}else{const i=e;Object.entries(t).forEach((([t,e])=>{"map"!==t&&s.set(t,e)})),t.map&&!i&&s.setMap(t.map)}}getOptions(t){const e=this,s={};return void 0!==t?e.get(t):(Object.entries(e.DEFAULT_OPTIONS).forEach((([t,i])=>{s[t]=e.get(t)})),s)}getMinClusterSize(){return this.getOptions("minClusterSize")}setMinClusterSize(t){this.setOptions("minClusterSize",t)}getMaxZoom(){return this.getOptions("maxZoom")}setMaxZoom(t){this.setOptions("maxZoom",t)}getGridSize(){return this.getOptions("gridSize")}setGridSize(t){this.setOptions("gridSize",t)}getIndexGenerator(){return this.getOptions("indexGenerator")}setIndexGenerator(t){this.setOptions("indexGenerator",t)}getMarkers(){return this.getOptions("markers")}setMarkers(t){this.setOptions("markers",t)}getIcons(){return this.getOptions("icons")}setIcons(t){this.setOptions("icons",t)}getStylingFunction(){return this.getOptions("stylingFunction")}setStylingFunction(t){this.setOptions("stylingFunction",t)}getDisableClickZoom(){return this.getOptions("disableClickZoom")}setDisableClickZoom(t){this.setOptions("disableClickZoom",t)}getAverageCenter(){return this.getOptions("averageCenter")}setAverageCenter(t){this.setOptions("averageCenter",t)}changed(t,e){if(this.getMap())switch(t){case"marker":case"minClusterSize":case"gridSize":case"averageCenter":n(this,s,"m",u).call(this);break;case"indexGenerator":case"icons":n(this,o,"f").forEach((t=>{t.updateIcon()}));break;case"maxZoom":n(this,o,"f").forEach((t=>{t.getCount()>1&&t.checkByZoomAndMinClusterSize()}));break;case"stylingFunction":n(this,o,"f").forEach((t=>{t.updateCount()}));break;case"disableClickZoom":n(this,o,"f").forEach((t=>{t[e?"disableClickZoom":"enableClickZoom"]()}))}}}o=new WeakMap,a=new WeakMap,h=new WeakMap,s=new WeakSet,l=function(){const t=this.getMap();if(!t)return;const e=t.getBounds(),i=this.getMarkers();for(let t=0,r=i.length;t<r;t+=1){const r=i[t],o=r.getPosition();e.hasLatLng(o)&&(n(this,s,"m",p).call(this,o).addMarker(r),n(this,h,"f").push(this.$naver.maps.Event.addListener(r,"dragend",(()=>{n(this,s,"m",m).call(this)}))))}},c=function(){const t=n(this,o,"f");for(let e=0,s=t.length;e<s;e+=1)t[e].updateCluster()},f=function(){const t=n(this,o,"f");for(let e=0,s=t.length;e<s;e+=1)t[e].destroy();this.$naver.maps.Event.removeListener(n(this,h,"f")),i(this,h,[],"f"),i(this,o,[],"f")},u=function(){n(this,s,"m",f).call(this),n(this,s,"m",l).call(this),n(this,s,"m",c).call(this)},p=function(t){const e=this.getProjection(),s=n(this,o,"f");let i=null,a=1/0;for(let n=0,r=s.length;n<r;n+=1){const r=s[n],o=r.getCenter();if(r.isInBounds(t)){const s=e.getDistance(o,t);s<a&&(a=s,i=r)}}return i||(i=new r.Cluster(this),n(this,o,"f").push(i)),i},d=function(){n(this,s,"m",u).call(this)},m=function(){n(this,s,"m",u).call(this)},this.markerClustering=new g(t,e)}}}},e={};function s(i){var n=e[i];if(void 0!==n)return n.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,s),r.exports}var i={};return(()=>{var t=i;Object.defineProperty(t,"__esModule",{value:!0}),t.MarkerClusteringWrapper=void 0;const e=s(434);Object.defineProperty(t,"MarkerClusteringWrapper",{enumerable:!0,get:function(){return e.MarkerClusteringWrapper}})})(),i})()));